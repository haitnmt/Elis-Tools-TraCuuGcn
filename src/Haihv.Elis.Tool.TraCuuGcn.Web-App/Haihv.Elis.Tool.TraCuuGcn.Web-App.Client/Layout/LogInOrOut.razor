@using Haihv.Elis.Tool.TraCuuGcn.Models

<AuthorizeView>
    <Authorized>
        <MudStack Row="true">
            <MudHidden Breakpoint="Breakpoint.SmAndDown">
                <MudText>
                    Xin chào, @UserInfo?.DisplayName
                </MudText>
            </MudHidden>
            <MudHidden Breakpoint="Breakpoint.MdAndUp">
                <MudTooltip Text="@($"Xin chào, {UserInfo?.DisplayName}")"
                            Color="Color.Default"
                            Placement="Placement.Bottom">
                    <MudIcon Icon="@Icons.Material.Filled.Person"
                             Size="Size.Small"/>
                </MudTooltip>
            </MudHidden>
            <LogOut CurrentUrl="@CurrentUrl"/>
        </MudStack>
    </Authorized>
    <NotAuthorized>
        <MudButton Color="Color.Inherit" Href="@($"authentication/login?returnUrl={Uri.EscapeDataString(NavigationManager.Uri)}")">
            <MudText Typo="Typo.subtitle1">Đăng nhập</MudText>
        </MudButton>
    </NotAuthorized>
</AuthorizeView>

@inject NavigationManager NavigationManager
@code {
    [Parameter]
    public string? CurrentUrl { get; set;}
    [Parameter]
    public UserInfo? UserInfo { get; set;}
}
